{
	"$id": "root",
	"$schema": "http://json-schema.org/draft-07/schema#",
	"type": "object",
	"properties": {
	  "globalSettings": {
		 "type": "object",
		 "properties": {
			"currentBank": {
			  "type": "integer",
			  "default": 0,
			  "title": "Current Bank",
			  "description": "Currently accessed bank of the device",
			  "readOnly": true
			},
			"midiChannel": {
			  "type": "integer",
			  "default": 0,
			  "title": "MIDI In Channel",
			  "description": "Input channel for listening to incoming MIDI messages. 0=Omni, 1-16= MIDI channel, 17=off",
			  "maximum": 17,
			  "minimum": 0
			},
			"ledBrightness": {
			  "type": "integer",
			  "default": 170
			},
			"flexiMode": {
			  "type": "string",
			  "default": "unassigned",
			  "title": "Flexiport Mode",
			  "description": "Operating mode of the Flexiport. The number of Flexiports per device may differ. For multiple Flexiports, these are referenced as flexi1Mode, flexi2Mode, etc...",
			  "enum": [
				 "midiOutA",
				 "midiOutB",
				 "midiOutTip",
				 "midiOutRing",
				 "deviceLink",
				 "expSingle",
				 "expDual",
				 "switchIn",
				 "switchOut",
				 "tapTempo",
				 "relayOut",
				 "pulseOut",
				 "favSwitch",
				 "unassigned"
			  ]
			},
			"uiMode": {
			  "type": "string",
			  "default": "extended",
			  "enum": [
				 "simple",
				 "extended"
			  ],
			  "title": "UI Mode",
			  "description": "Mode for the main screen layout"
			},
			"preserveStates": {
			  "type": "boolean",
			  "default": false,
			  "title": "Preserve States",
			  "description": "When enabled, the device remembers toggle states when switching banks"
			},
			"sendStates": {
			  "type": "boolean",
			  "default": false,
			  "title": "Send States",
			  "description": "When enabled, any switch states that are recalled will send associated messages"
			},
			"holdTime": {
			  "type": "integer",
			  "default": 100,
			  "title": "Hold Time",
			  "description": "Value set in milliseconds to control length of time before the hold switch state is triggered"
			},
			"bootDelay": {
			  "type": "integer",
			  "default": 0,
 			  "title": "Boot Delay",
			  "description": "Value set in milliseconds to delay the device becoming active on power up and sending boot messages"
			},
			"bankDownTrigger": {
			  "type": "string",
			  "default": "fs1Fs2",
			  "title": "Bank Down Trigger",
			  "description": "Defines which footswitch combination triggers a bank down event"

			},
			"bankUpTrigger": {
			  "type": "string",
			  "default": "fs3Fs4",
 			  "title": "Bank Up Trigger",
			  "description": "Defines which footswitch combination triggers a bank up event"
			},
			"bankPcMidiOutputs": {
			  "type": "object",
			  "properties": {
				 "flexi1": {
					"type": "integer",
					"default": 1
				 },
				 "flexi2": {
					"type": "integer",
					"default": 1
				 },
				 "midi0": {
					"type": "integer",
					"default": 1
				 },
				 "usb": {
					"type": "integer",
					"default": 1
				 }
				  
			  },
			  "required": [
				 "flexi1",
				 "flexi2",
				 "midi0",
				 "usb"
			  ],
			  "additionalProperties": false,
			  "title": "Bank Change PC MIDI Outputs",
			  "description": "Defines the MIDI channel number on each MIDI output for automatic PC messages corresponding to bank number. Can be set to 'false' to stop MIDI messages being sent"
			},
			"deviceName": {
			  "type": "string",
			  "default": "Bridge 4",
 			  "title": "Device Name",
			  "description": "Sets device name that appears when enumerated as a USB device"
			},
			"profileId": {
			  "type": "integer",
			  "default": 0,
			  "title": "Profile ID",
			  "description": " "
			},
			"customLedColors": {
			  "type": "array",
			  "items": {
				 "type": "integer",
				 "default": 0
			  },
			  "title": "Custom LED Colors",
			  "description": "Defines up to twelve custom global LED colors to be stored on board the device"
			},
			"midiClocks": {
			  "type": "array",
			  "items": {
				 "type": "object",
				 "properties": {
					"outputs": {
					  "type": "object",
					  "properties": {
						 "flexi1": {
							"type": "boolean",
							"default": false
						 },
						 "flexi2": {
							"type": "boolean",
							"default": false
						 },
						 "midi0": {
							"type": "boolean",
							"default": false
						 },
						 "usb": {
							"type": "boolean",
							"default": false
						 }
					  },
					  "required": [
						 "flexi1",
						 "flexi2",
						 "midi0",
						 "usb"
					  ],
					  "additionalProperties": false
					}
				 },
				 "required": [
					"outputs"
				 ],
				 "additionalProperties": false
			  },
			  "title": "MIDI Clocks",
			  "description": "Defines MIDI Clocks A and B and which MIDI outputs will send MIDI Clock"
			},
			"flexi1ThruHandles": {
			  "type": "object",
			  "properties": {
				 "flexi1": {
					"type": "boolean",
					"default": false
				 },
				 "flexi2": {
					"type": "boolean",
					"default": false
				 },
				 "midi0": {
					"type": "boolean",
					"default": false
				 },
				 "usb": {
					"type": "boolean",
					"default": false
				 }
			  },
			  "required": [
				 "flexi1",
				 "flexi2",
				 "midi0",
				 "usb"
			  ],
			  "additionalProperties": false,
			  "title": "Flexiport 1 MIDI Thru Handles",
			  "description": "When enabled, incoming MIDI messages on Flexiport 1 will be sent to the outputs selected"
			},
			"flexi2ThruHandles": {
			  "type": "object",
			  "properties": {
				 "flexi1": {
					"type": "boolean",
					"default": false
				 },
				 "flexi2": {
					"type": "boolean",
					"default": false
				 },
				 "midi0": {
					"type": "boolean",
					"default": false
				 },
				 "usb": {
					"type": "boolean",
					"default": false
				 }
			  },
			  "required": [
				 "flexi1",
				 "flexi2",
				 "midi0",
				 "usb"
			  ],
			  "additionalProperties": false,
			  "title": "Flexiport 2 MIDI Thru Handles",
			  "description": "When enabled, incoming MIDI messages on Flexiport 2 will be sent to the outputs selected"
			},
			"midi0ThruHandles": {
			  "type": "object",
			  "properties": {
				 "flexi1": {
					"type": "boolean",
					"default": false
				 },
				 "flexi2": {
					"type": "boolean",
					"default": false
				 },
				 "midi0": {
					"type": "boolean",
					"default": false
				 },
				 "usb": {
					"type": "boolean",
					"default": false
				 }
			  },
			  "required": [
				 "flexi1",
				 "flexi2",
				 "midi0",
				 "usb"
			  ],
			  "additionalProperties": false,
			  "title": "Midi0 MIDI Thru Handles",
			  "description": "When enabled, incoming MIDI messages on midi0 will be sent to the outputs selected"
			},
			"usbThruHandles": {
			  "type": "object",
			  "properties": {
				 "flexi1": {
					"type": "boolean",
					"default": false
				 },
				 "flexi2": {
					"type": "boolean",
					"default": false
				 },
				 "midi0": {
					"type": "boolean",
					"default": false
				 },
				 "usb": {
					"type": "boolean",
					"default": false
				 }
			  },
			  "required": [
				 "flexi1",
				 "flexi2",
				 "midi0",
				 "usb"
			  ],
			  "additionalProperties": false,
			  "title": "USB MIDI Thru Handles",
			  "description": "When enabled, incoming USB MIDI messages will be sent to the outputs selected"
			},
			"expMessages": {
			  "type": "array",
			  "items": {
				 "type": "object",
				 "properties": {
					"numMessages": {
					  "type": "integer",
					  "default": 0
					}
				 },
				 "required": [
					"numMessages"
				 ],
				 "additionalProperties": false
			  },
			  "title": "Expression Messages",
			  "description": "List of messages assigned to expression pedals at the global level. Sent irrespective of current bank"
			},
			"auxMessages": {
			  "type": "array",
			  "items": {
				 "type": "object",
				 "properties": {
					"tip": {
					  "type": "object",
					  "properties": {
						 "pressMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip Press Messages",
							"description": "Messages sent, regardless of current bank, when tip-connected aux switch is pressed"
						 },
						 "holdMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip Hold Messages",
							"description": "Messages sent, regardless of current bank, when tip-connected aux switch is held"
						 },
						 "toggleOnMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip Toggle On Messages",
							"description": "Messages sent, regardless of current bank, when tip-connected aux switch is pressed and the current toggle state is 'off'"
						 },
						 "toggleOffMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip Toggle Off Messages",
							"description": "Messages sent, regardless of current bank, when tip-connected aux switch is pressed and the current toggle state is 'on'"
						 }
					  },
					  "required": [
						 "pressMessages",
						 "holdMessages",
						 "toggleOnMessages",
						 "toggleOffMessages"
					  ],
					  "additionalProperties": false,
					  "title": "Tip Messages",
					  "description": "Messages associated with the tip-connected switch on an aux switch"
					},
					"ring": {
					  "type": "object",
					  "properties": {
						 "pressMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Ring Press Messages",
							"description": "Messages sent, regardless of current bank, when ring-connected aux switch is pressed"
						 },
						 "holdMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Ring Hold Messages",
							"description": "Messages sent, regardless of current bank, when ring-connected aux switch is held"
						 },
						 "toggleOnMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Ring Toggle On Messages",
							"description": "Messages sent, regardless of current bank, when ring-connected aux switch is pressed and the current toggle state is 'off'"
						 },
						 "toggleOffMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Ring Toggle Off Messages",
							"description": "Messages sent, regardless of current bank, when ring-connected aux switch is pressed and the current toggle state is 'on'"
						 }
					  },
					  "required": [
						 "pressMessages",
						 "holdMessages",
						 "toggleOnMessages",
						 "toggleOffMessages"
					  ],
					  "additionalProperties": false,
					  "title": "Ring Messages",
					  "description": "Messages associated with the ring-connected switch on an aux switch"
					},
					"tipRing": {
					  "type": "object",
					  "properties": {
						 "pressMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip+Ring Press Messages",
							"description": "Messages sent, regardless of current bank, when tip+ring-connected aux switch is pressed"
						 },
						 "holdMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip+Ring Hold Messages",
							"description": "Messages sent, regardless of current bank, when tip+ring-connected aux switch is held"
						 },
						 "toggleOnMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip+Ring Toggle On Messages",
							"description": "Messages sent, regardless of current bank, when tip+ring-connected aux switch is pressed and the current toggle state is 'off'"
						 },
						 "toggleOffMessages": {
							"type": "object",
							"properties": {
							  "numMessages": {
								 "type": "integer",
								 "default": 0
							  },
							  "messages": {
								 "type": "array"
							  }
							},
							"required": [
							  "numMessages",
							  "messages"
							],
							"additionalProperties": false,
							"title": "Global Aux Tip+Ring Toggle Off Messages",
							"description": "Messages sent, regardless of current bank, when tip+ring-connected aux switch is pressed and the current toggle state is 'on'"
						 }
					  },
					  "required": [
						 "pressMessages",
						 "holdMessages",
						 "toggleOnMessages",
						 "toggleOffMessages"
					  ],
					  "additionalProperties": false,
					  "title": "Tip+Ring Messages",
					  "description": "Messages associated with the tip+ring-connected switch on an aux switch"
					}
				 },
				 "required": [
					"tip",
					"ring",
					"tipRing"
				 ],
				 "additionalProperties": false,
				 "title": "Aux Messages",
			     "description": "List of messages assigned to aux switches at the global level. Sent irrespective of current bank"
			  }
			},
			"bootMessages": {
			  "type": "object",
			  "properties": {
				 "numMessages": {
					"type": "integer",
					"default": 0
				 },
				 "messages": {
					"type": "array"
				 }
			  },
			  "required": [
				 "numMessages",
				 "messages"
			  ],
			  "additionalProperties": false,
			  "title": "Boot Messages",
			  "description": "List of messages sent automatically at device power-up after the boot delay time has been completed"
			},
			"deviceLink": {
			  "type": "object",
			  "properties": {
				 "role": {
					"type": "string",
					"default": "satellite",
					"title": "Role",
					"description": "defines whether the device takes main or satellite role in device link network"
				 },
				 "bankNav": {
					"type": "boolean",
					"default": true,
					"title": "Bank Navigation",
					"description": "When enabled, device will change banks when any other device in Device Link network changes bank"
				 },
				 "bankName": {
					"type": "boolean",
					"default": true,
					"title": "Bank Name",
					"description": "When enabled, bank name will be temporarily over-written by the 'Main' device in the Device Link network"
				 },
				 "midiStream": {
					"type": "boolean",
					"default": false,
					"title": "MIDI Stream",
					"description": "When enabled, MIDI is sent and received over the Device Link Flexiport connection"
				 },
				 "switchGroups": {
					"type": "boolean",
					"default": false,
					"title": "Switch Groups",
					"description": "When enabled, switch group interactions will be considered across all devices in the Device Link network. e.g. Group 1 on all devices will act as one switch group"
				 }
			  },
			  "required": [
				 "role",
				 "bankNav",
				 "bankName",
				 "midiStream",
				 "switchGroups"
			  ],
			  "additionalProperties": false,
			  "title": "Device Link Settings",
			  "description": "Options defining which features of Device Link are enabled"
			}
		 },
		 "required": [
			"currentBank",
			"midiChannel",
			"ledBrightness",
			"flexiMode",
			"uiMode",
			"preserveStates",
			"sendStates",
			"holdTime",
			"bootDelay",
			"bankDownTrigger",
			"bankUpTrigger",
			"bankPcMidiOutputs",
			"deviceName",
			"profileId",
			"customLedColors",
			"midiClocks",
			"flexi1ThruHandles",
			"flexi2ThruHandles",
			"midi0ThruHandles",
			"usbThruHandles",
			"expMessages",
			"auxMessages",
			"bootMessages",
			"deviceLink"
		 ],
		 "additionalProperties": false,
		 "title": "Global Settings",
		 "description": "Settings that affect the device regardless of the current bank"
	  }
	},
	"required": [
	  "globalSettings"
	],
	"additionalProperties": false
 }
